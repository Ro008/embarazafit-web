---
import Layout from "../layouts/Layout.astro";
import { Icon } from "astro-icon";
---

<Layout title="Embarazafit - Prote√≠na y mancuernas">
  <div class="banner-movil" id="banner-movil">
    <p>
      ¬øDiabetes gestacional? üëâ
      <button
        type="button"
        class="btn-descarga-banner ipz-button"
        data-host="embarazafit.ipzmarketing.com"
        data-protocol="https"
        data-token="0-9bk82OxLw"
        id="btn-descarga-banner-link"
      >
        Descarga mi men√∫ gratis
      </button>
    </p>
    <button class="cerrar-banner" id="cerrar-banner">√ó</button>
  </div>

  <main>
    <section class="columns-container">
      <div class="column">
        <h2>
          ¬øTe han diagnosticado diabetes gestacional? Mi men√∫ semanal es para
          ti.
        </h2>
        <div class="acordeon-content">
          <p>
            Recibir el diagn√≥stico de diabetes gestacional puede ser abrumador.
            Yo pas√© por ah√≠ y s√© lo que se siente. Por eso, he creado una gu√≠a
            gratuita con el men√∫ semanal que a m√≠ me ayud√≥ a controlar mis
            niveles de glucosa de forma deliciosa y sin sentirme limitada.
          </p>
          <button
            type="button"
            class="btn-descarga ipz-button"
            data-host="embarazafit.ipzmarketing.com"
            data-protocol="https"
            data-token="0-9bk82OxLw"
            id="btn-descarga-menu"
            data-location="main_content"
          >
            Descargar mi gu√≠a gratuita
          </button>
        </div>
      </div>

      <div class="column">
        <h2>Pack Suplementos</h2>
        <div class="acordeon-content">
          <p>
            Aqu√≠ puedes ver el video donde te explico en detalle los 5
            suplementos que me acompa√±an durante mi embarazo. ¬°Te cuento para
            qu√© sirve cada uno!
          </p>
          <div class="links-container">
            <a href="https://amzn.to/45vNQHe" class="btn-amazon" target="_blank"
              >√Åcido F√≥lico Metilado</a
            >
            <a href="https://amzn.to/4n2sXtg" class="btn-amazon" target="_blank"
              >Vitamina D</a
            >
            <a href="https://amzn.to/4lF2Ebr" class="btn-amazon" target="_blank"
              >Omega 3</a
            >
            <a href="https://amzn.to/41VSnAk" class="btn-amazon" target="_blank"
              >Magnesio</a
            >
            <a href="https://amzn.to/4mHFulK" class="btn-amazon" target="_blank"
              >Multivitam√≠nico</a
            >
          </div>
          <div class="video-wrapper">
            <blockquote
              class="instagram-media"
              data-instgrm-permalink="https://www.instagram.com/reel/DNK-4j3tGCM/?utm_source=ig_embed&amp;utm_campaign=loading"
              data-instgrm-version="14"
              style="
                background: #fff;
                border: 0;
                border-radius: 3px;
                box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.5),
                  0 1px 10px 0 rgba(0, 0, 0, 0.15);
                margin: 1px;
                max-width: 540px;
                min-width: 326px;
                padding: 0;
                width: 99.375%;
                width: -webkit-calc(100% - 2px);
                width: calc(100% - 2px);
              "
            >
              <div style="padding: 16px">
                <a
                  href="https://www.instagram.com/reel/DNK-4j3tGCM/?utm_source=ig_embed&amp;utm_campaign=loading"
                  style="
                    background: #ffffff;
                    line-height: 0;
                    padding: 0 0;
                    text-align: center;
                    text-decoration: none;
                    width: 100%;
                  "
                  target="_blank"
                ></a>
              </div>
            </blockquote>
          </div>
        </div>
      </div>
    </section>
  </main>
</Layout>

<style>
  /*
   * ESTILOS RESPONSIVOS PARA LAS COLUMNAS Y EL ACORDE√ìN
   */
  .columns-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-bottom: 40px;
  }

  .links-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 20px;
  }

  /* Estilos de las columnas en escritorio (ancho > 767px) */
  @media (min-width: 768px) {
    .column {
      flex: 1;
      background-color: var(--baby-powder);
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .column h2 {
      border-bottom: 2px solid var(--rusty-red);
      padding-bottom: 10px;
      margin-bottom: 15px;
      cursor: default;
    }

    .acordeon-content {
      max-height: none !important;
      overflow: visible;
    }

    .video-wrapper .instagram-media {
      max-width: 50% !important;
      margin: 20px auto 0 auto !important;
    }
  }

  /* Estilos para m√≥viles (ancho < 768px) */
  @media (max-width: 767px) {
    main {
      padding: 0 10px;
    }

    .columns-container {
      padding: 0;
    }

    .column {
      width: 100%;
      background-color: var(--baby-powder);
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      padding: 0;
      margin-bottom: 20px;
    }

    .column h2 {
      padding: 20px;
      text-align: center;
      background-color: var(--baby-powder);
      color: var(--gunmetal);
      cursor: pointer;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      border: none;
      margin: 0;
    }

    .acordeon-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.2s ease-out;
      padding: 0 20px;
      background-color: var(--baby-powder);
    }

    .acordeon-content.active {
      max-height: 1000px;
      padding: 20px;
      animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .video-wrapper .instagram-media {
      max-width: 100% !important;
      min-width: unset !important;
      width: 100% !important;
    }
  }

  .btn-amazon {
    display: inline-block;
    padding: 10px 20px;
    background-color: var(--deep-teal);
    color: var(--pale-sand);
    text-decoration: none;
    border-radius: 5px;
    font-weight: bold;
    text-align: center;
    transition: background-color 0.3s ease;
    margin-top: 10px;
  }

  .btn-amazon:hover {
    background-color: var(--dark-charcoal);
  }

  /*
   * Estilos del banner flotante para m√≥viles
   * --- Actualizado con el nuevo color ---
   */
  .banner-movil {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background-color: var(
      --vibrant-coral
    ); /* Color de acento para que destaque */
    color: var(--pale-sand);
    padding: 10px 40px 10px 15px;
    text-align: center;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    transform: translateY(-100%);
    transition: transform 0.5s ease-in-out;
  }

  .banner-movil.visible {
    transform: translateY(0);
  }

  .banner-movil p {
    margin: 0;
    font-size: 1em;
    display: inline-block;
  }

  .banner-movil .btn-descarga-banner,
  .banner-movil button.btn-descarga-banner {
    color: var(
      --dark-charcoal
    ); /* Texto oscuro para contrastar con el fondo coral */
    font-weight: bold;
    text-decoration: underline;
    margin-left: 5px;
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
    font-family: "Poppins";
  }

  .banner-movil .cerrar-banner {
    background: none;
    border: none;
    color: var(--pale-sand);
    font-size: 2em;
    cursor: pointer;
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
  }

  /* Ocultar el banner en pantallas m√°s grandes */
  @media (min-width: 426px) {
    .banner-movil {
      display: none;
    }
  }
</style>

<script>
  // L√≥gica para mostrar y ocultar el banner
  document.addEventListener("DOMContentLoaded", function () {
    const banner = document.getElementById("banner-movil");
    const botonCerrar = document.getElementById("cerrar-banner");

    if (banner && botonCerrar) {
      // Muestra el banner al cargar la p√°gina
      banner.classList.add("visible");
      // Escucha el clic para cerrarlo
      botonCerrar.addEventListener("click", function () {
        banner.classList.remove("visible");
      });
    }
  });

  // L√≥gica para los acordeones
  var botonesAcordeon = document.querySelectorAll(".column h2");
  botonesAcordeon.forEach(function (boton) {
    boton.addEventListener("click", function () {
      var contenido = this.nextElementSibling;
      contenido.classList.toggle("active");
    });
  });

  // L√≥gica de seguimiento de clics
  document.addEventListener("DOMContentLoaded", function () {
    var buttonsToTrack = document.querySelectorAll("[data-location]");
    buttonsToTrack.forEach(function (button) {
      button.addEventListener("click", function () {
        var location = this.getAttribute("data-location");
        if (typeof gtag !== "undefined") {
          gtag("event", "download_click", {
            event_category: "Descargas",
            event_label: location,
          });
        }
      });
    });
  });
</script>
